# TrustLink: Децентрализованная система верификации поставщиков для госзакупок/ритейла

### Проблема: 
В российской банковской и корпоративной среде много неэффективности и рисков, связанных с контрагентами. Компании тратят огромные ресурсы на проверку поставщиков, а мошенники создают фейковые фирмы.

### Решение: 
Создание прототипа системы на базе блокчейна (или его принципов) для верификации и отслеживания репутации юридических лиц.

### Технологии: 
Блокчейн-платформа, криптография, веб-интерфейс.

## Как это работает (Data Flow)
1. Пользователь (Закупщик) заходит на сайт (PHP). Вводит ИНН поставщика.
2. PHP Controller получает запрос, обращается через ApiClient (Model) к Go Node.
3. Go API (Controller) принимает запрос.
4. Go Core проверяет локальную базу блокчейна:
    • Есть ли такая компания?
    • Валидна ли цепочка блоков (никто ли не подделал рейтинг задним числом)?
5. Go отдает JSON с данными и статусом верификации.
6. PHP View рисует зеленую галочку "Verified" и показывает историю изменений рейтинга.

## План

### Этап 1: Ядро на Go
Задача: Сделать так, чтобы данные сохранялись в цепочку блоков и их нельзя было подделать.
1. Опиши структуру Block (Индекс, Дата, Данные о поставщике, Хеш предыдущего блока, Свой хеш).
2. Напиши функцию CalculateHash() (SHA-256).
3. Реализуй хранение цепочки в памяти (slice []Block), а затем прикрути простую БД (BadgerDB или BoltDB).
4. Сделай простой REST API на Go (Gin или Chi).
    • GET /chain — получить всю цепочку.
    • POST /supplier — добавить нового поставщика (создать новый блок).

### Этап 2: Веб-интерфейс на PHP
1. Подними локальный сервер (OpenServer/Docker).
2. Сделай простую верстку (Bootstrap)
3. Напиши PHP-код, который отправляет cURL запросы на твой Go-сервер (http://localhost:8080/...) и выводит результат.

### Этап 3: Бизнес-логика
Задача: Какую проблему мы решаем.

1. Реализуй сценарий "Изменение рейтинга".
    • Пример: Поставщик "ООО Рога и Копыта" сорвал сроки.
    • В блокчейн пишется транзакция: { "INN": "123", "Event": "Penalty", "NewRating": 4.5 }.
    • Главное преимущество: Нельзя удалить старую запись. История сохраняется навечно.

### Этап 4: Оформление
Использовал:
• Архитектурный паттерн: MVC (на фронте) и Hexagonal/Layered (на бэкенде).
• Межсервисное взаимодействие: REST API.
• Технологии: Распределенный реестр (DLT) на Go.

## Структура проекта

/web-app
├── /app
│   ├── /Controllers       # (CONTROLLER) Обработка нажатий кнопок
│   │   ├── AuthController.php
│   │   ├── SupplierController.php    # Логика: "Показать поставщика", "Отправить на проверку"
│   │   └── DashboardController.php
│   │
│   ├── /Models            # (MODEL) Данные и логика общения с Go-сервисом
│   │   ├── ApiClient.php             # Обертка над cURL/Guzzle для запросов к Go
│   │   └── SupplierMapper.php        # Преобразование JSON от Go в объекты PHP
│   │
│   └── /Views             # (VIEW) HTML шаблоны
│       ├── /layouts
│       │   └── main.php              # Шапка, подвал
│       ├── /suppliers
│       │   ├── list.php
│       │   └── profile.php           # Красивая карточка с рейтингом
│       └── login.php
│
├── /public                # Точка входа
│   ├── index.php
│   └── /assets            # CSS, JS, Images
│       ├── /css
│       ├── /js
│       └── /images
│
└── config.php             # Настройки (адрес Go-ноды)

/chain
├── /cmd
│   └── main.go            # Точка входа (запуск сервера)
│
├── /internal
│   ├── /api               # (CONTROLLER) HTTP обработчики (REST API)
│   │   ├── router.go      # Маршруты (GET /block, POST /transaction)
│   │   └── handlers.go    # Функции обработки запросов
│   │
│   ├── /core              # (MODEL - Logic) Сама суть блокчейна
│   │   ├── block.go       # Структура блока (Index, Hash, PrevHash, Data)
│   │   ├── chain.go       # Логика цепочки: AddBlock(), ValidateChain()
│   │   └── proof.go       # Алгоритм консенсуса (можно простой Proof of Authority)
│   │
│   ├── /storage           # (MODEL - Data) Работа с базой данных
│   │   └── leveldb.go     # Сохранение блоков на диск (LevelDB или BoltDB)
│   │
│   └── /crypto            # Вспомогательные функции
│       └── hash.go        # SHA-256 хеширование
│
├── /pkg                   # Общие структуры
│   └── types.go           # Struct Supplier { INN, Name, Rating, ... }
│
└── go.mod                 # Зависимости